---
title: "Vue"
navigation:
  title: "Vue"
  icon: "ğŸ¡"
  date: 2023/06/08
description: "What is Vue."
image:
  src: ""
  alt: ""
  width: 400
  height: 300
head:
  meta:
    - name: "keywords"
      content: "Vue çŸ¥è¯†ç‚¹æ€»ç»“"
    - name: "robots"
      content: "content, follow"
    - name: "author"
      content: "åˆç¾Š"
    - name: "copyright"
      content: "MIT"
category: ""
tag: ['']
---

# Vue æ¡†æ¶

## æŠ€æœ¯é˜¶æ¢¯

1. åŸºæœ¬ä½¿ç”¨ï¼Œç»„ä»¶ä½¿ç”¨
2. é«˜çº§ç‰¹æ€§ï¼Œä½“ç°æŠ€æœ¯æ·±åº¦
3. `Vuex` `Pinia` `Vue-router`

## åŸºæœ¬ä½¿ç”¨

1. æŒ‡ä»¤ã€æ’å€¼
  - æ’å€¼ã€è¡¨è¾¾å¼
  - æŒ‡ä»¤ã€åŠ¨æ€å±æ€§
  - `v-html` ï¼šæœ‰ `xss` é£é™©ï¼Œä¼šè¦†ç›–å­ç»„ä»¶ / å­å…ƒç´ 

2. `computed` å’Œ `watch`
  - `computed` æœ‰ç¼“å­˜ï¼Œ `data` ä¸å˜åˆ™ä¸ä¼šé‡æ–°è®¡ç®—
  - `watch` æ·±åº¦ç›‘å¬
  - `watch` ç›‘å¬å¼•ç”¨ç±»å‹ï¼Œ æ‹¿ä¸åˆ° `oldVal`
  ```javascript
    export default {
      watch: {
        someObject: {
          handler(newValue, oldValue) {
            // æ³¨æ„ï¼šåœ¨åµŒå¥—çš„å˜æ›´ä¸­ï¼Œ
            // åªè¦æ²¡æœ‰æ›¿æ¢å¯¹è±¡æœ¬èº«ï¼Œ
            // é‚£ä¹ˆè¿™é‡Œçš„ `newValue` å’Œ `oldValue` ç›¸åŒ
          },
          deep: true
        }
      }
    }
  ```
  ```javascript
    const obj = reactive({ count: 0 })

    watch(obj, (newValue, oldValue) => {
      // åœ¨åµŒå¥—çš„å±æ€§å˜æ›´æ—¶è§¦å‘
      // æ³¨æ„ï¼š`newValue` æ­¤å¤„å’Œ `oldValue` æ˜¯ç›¸ç­‰çš„
      // å› ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼
    })
    obj.count++
    watch(
      () => state.someObject,
      (newValue, oldValue) => {
        // æ³¨æ„ï¼š`newValue` æ­¤å¤„å’Œ `oldValue` æ˜¯ç›¸ç­‰çš„
        // *é™¤é* state.someObject è¢«æ•´ä¸ªæ›¿æ¢äº†
      },
      { deep: true }
    )
  ```

3. `class` `style`
   - class å¯¹è±¡ï¼š `{className: boolean, ...}`
   - class æ•°ç»„ï¼š `[className, ...]`
   - style å¯¹è±¡ï¼š `{fontSize: ..., color: ...,}`

4. æ¡ä»¶æ¸²æŸ“
   - `v-if` `v-else`
   - `v-if` `v-show` `DOM` æ²¡æœ‰æ¸²æŸ“ å’Œ `display: none` çš„åŒºåˆ«
   - `v-if` é€‚ç”¨äº æ¸²æŸ“åˆ‡æ¢ä¸é¢‘ç¹æˆ–è€…ä¸€æ¬¡æ€§æ¸²æŸ“çš„å…ƒç´ /ç»„ä»¶
   - `v-show` é€‚ç”¨äº æ¸²æŸ“åˆ‡æ¢é¢‘ç¹çš„å…ƒç´ /ç»„ä»¶

5. å¾ªç¯æ¸²æŸ“
   - `v-for`
   - `key` çš„ä½¿ç”¨ï¼Œä¸èƒ½ç”¨ `index` å’Œ `random` 
   - `v-for` ä¸ `v-if` ä¸èƒ½ä¸€èµ·ä½¿ç”¨

6. äº‹ä»¶
   - event å‚æ•°ï¼Œ è‡ªå®šä¹‰å‚æ•°
      - **åŸç”Ÿ event å¯¹è±¡**
      - **äº‹ä»¶è¢«æŒ‚è½½åœ¨å½“å‰å…ƒç´ **
   - äº‹ä»¶ä¿®é¥°ç¬¦ï¼ŒæŒ‰é”®ä¿®é¥°ç¬¦
      ```html
        <!-- é˜»æ­¢å•å‡»äº‹ä»¶ç»§ç»­ä¼ æ’­ -->
        <a v-on:click.stop="doThis"></a>
        <!-- æäº¤äº‹ä»¶ä¸å†é‡è½½é¡µé¢ -->
        <form v-on:submit.prevent="onSubmit"></form>
        <!-- ä¿®é¥°ç¬¦å¯ä»¥ä¸²è” -->
        <a v-on:click.stop.prevent="doThat"></a>
        <!-- åªæœ‰ä¿®é¥°ç¬¦ -->
        <form v-on:submit.prevent></form>
        <!-- æ·»åŠ äº‹ä»¶ç›‘å¬å™¨æ—¶ä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼ -->
        <!-- å³å†…éƒ¨å…ƒç´ è§¦å‘çš„äº‹ä»¶å…ˆåœ¨æ­¤å¤„ç†ï¼Œç„¶åæ‰äº¤ç”±å†…éƒ¨å…ƒç´ è¿›è¡Œå¤„ç† -->
        <div v-on:click.capture="doThis">...</div>
        <!-- åªå½“åœ¨event,targetæ˜¯å½“å‰å…ƒç´ è‡ªèº«æ—¶è§¦å‘å¤„ç†å‡½æ•° -->
        <!-- å³äº‹ä»¶ä¸æ˜¯ä»å†…éƒ¨å…ƒç´ è§¦å‘çš„ -->
        <div v-on:click.self="doThat">...</div>
        <!--å³ä½¿ALtæˆ–Shiftè¢«ä¸€åŒæŒ‰ä¸‹æ—¶ä¹Ÿä¼šè§¦å‘ -->
        <button @click.ctrl="onclick">A</button>
        <!-- æœ‰ä¸”åªæœ‰Ctr1è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ -->
        <button @click.ctrl.exact="onCtrlclick">A</button>
        <!-- æ²¡æœ‰ä»»ä½•ç³»ç»Ÿä¿®é¥°ç¬¦è¢«æŒ‰ä¸‹çš„æ—¶å€™æ‰è§¦å‘ -->
        <button aclick.exact="onclick">A</button>
      ```
      - è¡¨å•
         - `v-model`
         - å¸¸è§è¡¨å•é¡¹ `textarea` `checkbox` `radio` `select`
            - `textarea` é€šè¿‡ `v-model` ç»‘å®šæ•°æ®
            - `checkbox` `v-model` ç»‘å®šæ•°ç»„ `value` å€¼å†™å…¥ç»‘å®šæ•°ç»„ä¸­
            - `radio` `v-model` ç»‘å®š æ™®é€šç±»å‹
            - `select` `v-model` å¤šé€‰ç»‘å®šæ•°ç»„ `value` å€¼å†™å…¥ç»‘å®šæ•°ç»„ä¸­ï¼Œå•é€‰ç»‘å®šæ™®é€šå˜é‡
         - ä¿®é¥°ç¬¦ `lazy` `number` `trim`

7. çˆ¶å­ç»„ä»¶é€šä¿¡

   - props å’Œ $emit
      - vue2
        ```html
          <!-- parentComponent -->
          <!-- @eventName è°ƒç”¨æŒ‡å®šçš„å‡½æ•° -->
          <div id="emit-example-simple">
            <welcome-button v-on:welcome="sayHi"></welcome-button>
          </div>
        ```
        ```javascript
          new Vue({
            el: '#emit-example-simple',
            methods: {
              sayHi: function () {
                alert('Hi!')
              }
            }
          })
          // childComponent
          // ç»‘å®šäº‹ä»¶ï¼Œ$emit('eventName') è§¦å‘çˆ¶ç»„ä»¶è°ƒç”¨æŒ‡å®šçš„å‡½æ•°
          Vue.component('welcome-button', {
            template: `
              <button v-on:click="$emit('welcome')">
                Click me to be welcomed
              </button>
            `
          })
        ```
      - vue3
        ```html
          <!-- ParentComponent -->
          <BlogPost
            ...
            @enlarge-text="postFontSize += 0.1"
          />

          <!-- ChildComponent -->
          <template>
            <div class="blog-post">
              <h4>{{ title }}</h4>
              <button @click="$emit('enlarge-text')">Enlarge text</button>
            </div>
          </template>
        ```
        ```javascript
          // é€šè¿‡ defineEmits å®æ¥å£°æ˜éœ€è¦æŠ›å‡ºçš„äº‹ä»¶ï¼š
          // ChildComponent
          <script setup>
          defineProps(['title'])
          defineEmits(['enlarge-text'])
          </script>
        ```
        [æ¼”ç¤º - ç®€å•çš„ Todo List](/posts/playground)
   - ç»„ä»¶é—´é€šè®¯ - è‡ªå®šä¹‰äº‹ä»¶
      - vue2 é€šè¿‡ new Vue() å®ä¾‹æ¥è¿›è¡Œå…„å¼Ÿç»„ä»¶é—´çš„é€šä¿¡ æŒ‚è½½æ—¶ event.$on æ³¨å†Œ é”€æ¯æ—¶ event.$off é”€æ¯
      - vue3 é€šè¿‡ provide / inject æ¥å®ç°å…„å¼Ÿç»„ä»¶é—´çš„é€šä¿¡
   - ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ
      - vue2 ç”Ÿå‘½å‘¨æœŸå›¾ç¤º![vue2](https://cloud.kyoapps.com/images/lifecycle.png)
      - æŒ‚è½½é˜¶æ®µ
      - æ›´æ–°é˜¶æ®µ
      - é”€æ¯é˜¶æ®µ
   - å¸¦æœ‰çˆ¶å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ 
      - vue2
         - created å…ˆçˆ¶åå­
         - mounted å…ˆå­åçˆ¶
         - updated çˆ¶ - å­ - çˆ¶
         - unmounted å­ - çˆ¶

8. Vue é«˜çº§ç‰¹æ€§

- äº†è§£ï¼Œåœ¨ç‰¹å®šçš„ä½¿ç”¨åœºæ™¯å¯ä»¥é©¬ä¸Šç”¨åˆ°

   1. è‡ªå®šä¹‰ v-model
      ```vue
        <!-- CustomInput.vue -->
        <script setup>
        defineProps(['modelValue'])
        defineEmits(['update:modelValue'])
        </script>

        <template>
          <input
            :value="modelValue"
            @input="$emit('update:modelValue', $event.target.value)"
          />
        </template>
        <!-- Parent -->
        <CustomInput v-model="searchText" />
        <!-- å¤šä¸ª v-model ç»‘å®š -->
        <UserName
          v-model:first-name="first"
          v-model:last-name="last"
        />
      ```
      ```vue
        <script setup>
        defineProps({
          firstName: String,
          lastName: String
        })

        defineEmits(['update:firstName', 'update:lastName'])
        </script>

        <template>
          <input
            type="text"
            :value="firstName"
            @input="$emit('update:firstName', $event.target.value)"
          />
          <input
            type="text"
            :value="lastName"
            @input="$emit('update:lastName', $event.target.value)"
          />
          </template>
      ```

   2. $nextTick
   3. slot
   4. åŠ¨æ€ã€å¼‚æ­¥ç»„ä»¶
   5. keep-alive
   6. mixin
